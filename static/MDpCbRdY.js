import{q as b,r as x,k,c as a,s as m,v as w,g as t,a as o,t as u,b as j,w as W,T as z,F as C,m as q,o as i,n as p,x as B,y as F,z as M}from"./ial-GWOR.js";import{W as R}from"./CYY_Mbtd.js";const T={class:"text-center flex flex-col mt-10"},V={class:"text-lg"},D={key:0,class:"mx-auto"},K={class:"flex flex-col justify-center items-center px-6"},L={class:"text-2xl font-bold"},S={key:1,class:"text-lg"},E={class:"font-bold"},I={class:"grid grid-cols-2 gap-4 mt-4 xl:grid-cols-5 xl:gap-6 xl:mt-6"},U={class:"absolute inset-0 flex flex-col justify-center items-center px-6"},A={class:"text-2xl"},G={class:"font-bold"},Q={__name:"[jlpt]",setup(H){const e=b().params.jlpt,_=R.filter(r=>r.jlpt==e),l=N(_,10),n=x(0),d=x(""),f=x([]),g=k(()=>Math.round((l.length-f.value.length)/l.length*100)),y={mounted:r=>r.focus()};function N(r,s){return[...r].sort(()=>Math.random()-.5).slice(0,s)}function h(r){return r.trim().toLowerCase()}function v(){n.value<l.length&&(h(l[n.value].kana)!==h(d.value)&&f.value.push(l[n.value]),d.value="",n.value+=1)}return(r,s)=>(i(),a("div",T,[m(o("div",V,[o("h2",null,"歡迎來到 "+u(t(e))+" 測驗，本測驗共有 "+u(t(l).length)+" 題",1),s[1]||(s[1]=o("h2",null,"請輸入正確平假名",-1))],512),[[w,t(n)<t(l).length]]),t(n)<t(l).length?(i(),a("div",D,[j(z,{name:"quiz"},{default:W(()=>[(i(),a("div",{key:t(n),class:p(["w-full max-w-50 h-48 mt-10 flex items-center transition shadow-lg rounded-xl outline-2",{"outline-blue-500":t(e)==="N5","outline-green-500":t(e)==="N4","outline-yellow-500":t(e)==="N3","outline-orange-600":t(e)==="N2","outline-red-700":t(e)==="N1"}])},[o("div",K,[o("p",L,u(t(l)[t(n)].word),1),m(o("input",{onKeydown:F(v,["enter"]),"onUpdate:modelValue":s[0]||(s[0]=c=>B(d)?d.value=c:null),type:"text",class:p(["mt-10 w-full px-3 py-2 rounded-md border focus:outline",{"focus:outline-blue-300":t(e)==="N5","focus:outline-green-300":t(e)==="N4","focus:outline-yellow-300":t(e)==="N3","focus:outline-orange-300":t(e)==="N2","focus:outline-red-500":t(e)==="N1"}])},null,34),[[M,t(d)],[y]])])],2))]),_:1}),o("button",{onClick:v,class:"mt-10 px-6 py-3 rounded-md cursor-pointer text-white font-bold bg-cyan-700 shadow-lg transition hover:bg-cyan-500 hover:shadow-cyan-500/50"}," 下一題 ")])):(i(),a("div",S,[s[3]||(s[3]=o("p",null,"恭喜完成測驗",-1)),o("p",E,"總分: "+u(t(g)),1),m(o("div",null,[s[2]||(s[2]=o("p",null,"以下為回答錯誤單字",-1)),o("div",I,[(i(!0),a(C,null,q(t(f),c=>(i(),a("div",{class:p(["w-full max-w-50 h-48 mt-5 mx-auto shadow-lg relative rounded-xl outline-2",{"outline-blue-500":t(e)==="N5","outline-green-500":t(e)==="N4","outline-yellow-500":t(e)==="N3","outline-orange-600":t(e)==="N2","outline-red-700":t(e)==="N1"}])},[o("div",U,[o("p",A,u(c.word),1),o("p",G,u(c.kana),1)])],2))),256))])],512),[[w,t(g)!==100]])]))]))}};export{Q as default};
