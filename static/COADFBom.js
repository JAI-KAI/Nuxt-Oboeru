import{f as k,q as j,r as p,k as W,c as i,s as x,v as _,g as e,a as o,t as u,b as z,w as C,T as I,F as R,m as q,o as d,n as h,x as J,y as O,z as B}from"./D-cz21XB.js";import{W as F}from"./CYY_Mbtd.js";const M={class:"text-center flex flex-col mt-10"},T={class:"text-lg"},V={key:0,class:"mx-auto"},D={class:"flex flex-col justify-center items-center px-6"},K={class:"text-2xl font-bold"},L={key:1,class:"text-lg"},E={class:"font-bold"},U={class:"grid grid-cols-2 gap-4 mt-4 xl:grid-cols-5 xl:gap-6 xl:mt-6"},A={class:"absolute inset-0 flex flex-col justify-center items-center px-6"},G={class:"text-2xl"},H={class:"font-bold"},Z=k({__name:"[jlpt]",setup(P){const t=j().params.jlpt,N=F.filter(r=>r.jlpt==t),s=b(N,10),n=p(0),c=p(""),m=p([]),g=W(()=>Math.round((s.length-m.value.length)/s.length*100));let a;const y={mounted:r=>r.focus()};a=JSON.parse(localStorage.getItem("records")||"[]");function b(r,l){return[...r].sort(()=>Math.random()-.5).slice(0,l)}function v(r){return r.trim().toLowerCase()}function w(){n.value<s.length&&(v(s[n.value].kana)!==v(c.value)&&m.value.push(s[n.value]),c.value="",n.value+=1),n.value==s.length&&S()}function S(){JSON.parse(localStorage.getItem("records")||"[]").length<10?(a.push({jlpt:t,score:g.value}),localStorage.setItem("records",JSON.stringify(a))):(a.shift(),a.push({jlpt:t,score:g.value}),localStorage.setItem("records",JSON.stringify(a)))}return(r,l)=>(d(),i("div",M,[x(o("div",T,[o("h2",null,"歡迎來到 "+u(e(t))+" 測驗，本測驗共有 "+u(e(s).length)+" 題",1),l[1]||(l[1]=o("h2",null,"請輸入正確平假名",-1))],512),[[_,e(n)<e(s).length]]),e(n)<e(s).length?(d(),i("div",V,[z(I,{name:"quiz"},{default:C(()=>[(d(),i("div",{key:e(n),class:h(["w-full max-w-50 h-48 mt-10 flex items-center transition shadow-lg rounded-xl outline-2",{"outline-blue-500":e(t)==="N5","outline-green-500":e(t)==="N4","outline-yellow-500":e(t)==="N3","outline-orange-600":e(t)==="N2","outline-red-700":e(t)==="N1"}])},[o("div",D,[o("p",K,u(e(s)[e(n)].word),1),x(o("input",{onKeydown:O(w,["enter"]),"onUpdate:modelValue":l[0]||(l[0]=f=>J(c)?c.value=f:null),type:"text",class:h(["mt-10 w-full px-3 py-2 rounded-md border focus:outline",{"focus:outline-blue-300":e(t)==="N5","focus:outline-green-300":e(t)==="N4","focus:outline-yellow-300":e(t)==="N3","focus:outline-orange-300":e(t)==="N2","focus:outline-red-500":e(t)==="N1"}])},null,34),[[B,e(c)],[y]])])],2))]),_:1}),o("button",{onClick:w,class:"mt-10 px-6 py-3 rounded-md cursor-pointer text-white font-bold bg-cyan-700 shadow-lg transition hover:bg-cyan-500 hover:shadow-cyan-500/50"}," 下一題 ")])):(d(),i("div",L,[l[3]||(l[3]=o("p",null,"恭喜完成測驗",-1)),o("p",E,"總分: "+u(e(g)),1),x(o("div",null,[l[2]||(l[2]=o("p",null,"以下為回答錯誤單字",-1)),o("div",U,[(d(!0),i(R,null,q(e(m),f=>(d(),i("div",{class:h(["w-full max-w-50 h-48 mt-5 mx-auto shadow-lg relative rounded-xl outline-2",{"outline-blue-500":e(t)==="N5","outline-green-500":e(t)==="N4","outline-yellow-500":e(t)==="N3","outline-orange-600":e(t)==="N2","outline-red-700":e(t)==="N1"}])},[o("div",A,[o("p",G,u(f.word),1),o("p",H,u(f.kana),1)])],2))),256))])],512),[[_,e(g)!==100]])]))]))}});export{Z as default};
